---
import Todoaction from "@/components/Todoaction";
import Todo from "@/components/Todo";
import Layout from "@/layouts/Layout.astro";
import $deletedtodos from "@/store/DeletedTodos";
export const getStaticPaths = () => {
  if (!$deletedtodos.get().isLoading) {
    const todos = $deletedtodos.get().data.map((todo) => {
      return {
        params: todo,
      };
    });
    return todos;
  }
};
const { id } = Astro.params;
const data = $deletedtodos.get().data.filter((todo) => id === todo.id)[0];

const info = {
  from: "bin",
  id: id,
};
---

<Layout title={`Deleted Todos - id : ${id}`}>
  <main class="px-2 pt-20">
    <h1 class="text-center my-10 font-bold text-2xl underline">
      Deleted Todos
    </h1>
    <Todo data={data} />
    <Todoaction info={JSON.stringify(info)} client:load />
  </main>
</Layout>
